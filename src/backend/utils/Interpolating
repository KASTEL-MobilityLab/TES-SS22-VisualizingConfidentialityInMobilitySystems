import { LatLng } from "./LatLng";

// distance between each step in meter
let stepSize = 10;

export function interpolate(waypoints: LatLng[]): Promise<LatLng[]> {
  let interpolatedWaypoints: LatLng[];
  interpolatedWaypoints.add(waypoints[0]);
  for (let i = 0; i < waypoints.length - 1; i++) {
    let distance: number = distanceCalculate(waypoints[i], waypoints[i + 1]);
    let stepNumber = Math.round(distance / stepSize);
  }
  return interpolatedWaypoints;
}

function distanceCalculate(
  firstWaypoint: LatLng,
  secondWaypoint: LatLng
): number {
  let dx: number = 73 * (firstWaypoint.longitude - secondWaypoint.longitude);
  let dy: number = 111.3 * (firstWaypoint.latitude - secondWaypoint.latitude);
  return Math.abs(Math.sqrt(dx * dx + dy * dy) * 1000);
}
